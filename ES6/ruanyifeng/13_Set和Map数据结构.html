<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Set和Map数据结构</title>
</head>

<body>
    <script>
        {
            console.log('set......................');

            const s = new Set([7, 1, 2, 3, 5, , 5, 6, 7, 7, 7]);
            console.log(s);


            for (let item of s.keys()) {
                console.log(item);
            }


            for (let item of s.values()) {
                console.log(item);
            }

            for (let item of s.entries()) {
                console.log(item);
            }

            s.forEach((value, key) => console.log(key + ' : ' + value))
        }


        {
            console.log('Map ..........................');

            let map = new Map();
            map.set('foo', true);
            map.set('bar', false);
            map.set(262, 'standard')     // 键是数值
            map.set('262', 'standard')     // 键是数值

            console.log(map);

            {
                console.log('map iter.....');
                const map = new Map([
                    ['F', 'no'],
                    ['T', 'yes'],
                ]);

                for (let key of map.keys()) {
                    console.log(key);
                }
                // "F"
                // "T"

                for (let value of map.values()) {
                    console.log(value);
                }
                // "no"
                // "yes"

                for (let item of map.entries()) {
                    console.log(item[0], item[1]);
                }
                // "F" "no"
                // "T" "yes"

                // 或者
                for (let [key, value] of map.entries()) {
                    console.log(key, value);
                }
                // "F" "no"
                // "T" "yes"

                // 等同于使用map.entries()
                for (let [key, value] of map) {
                    console.log(key, value);
                }
                // "F" "no"
                // "T" "yes"
            }

            {
                console.log('map to array');
                let map = new Map().set('222', 222);
                map.set('2222', 444);

                console.log(map);
                console.log([...map]);

                let arrToMap = new Map([
                    [true, 7],
                    [{ foo: 3 }, ['abc']]
                ])

                console.log(arrToMap);
            }

            {
                console.log('obj to map');
                let obj = { '1': 23, '32': 54 };
                let map = new Map(Object.entries(obj))
                console.log(map);
            }

            {
                function objToStrMap(obj) {
                    let strMap = new Map();
                    for (let k of Object.keys(obj)) {
                        strMap.set(k, obj[k]);
                    }
                    return strMap;
                }
                let jsonStr = '{"1":"34", "3":"45"}';
                console.log(new Map(objToStrMap(JSON.parse(jsonStr))));
            }
        }
    </script>
</body>

</html>