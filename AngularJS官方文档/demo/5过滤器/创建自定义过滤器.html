<!doctype html>
<html ng-app="MyReverseModule">

<head>
    <script src="../../lib/angular-1.4.6/angular.min.js"></script>
</head>

<body>
    <div ng-controller="MyController">
        <input ng-model="greeting" type="text"><br>
        未添加过滤器: {{greeting}}<br>
        逆置: {{greeting|reverse}}<br>
        逆置 + 大写: {{greeting|reverse:true}}<br>
        单次调用测试: {{filteredGreeting}}<br>
    </div>

    <script>
        var app = angular.module("MyReverseModule", []);
        app.controller('MyController', ['$scope', 'reverseFilter', function ($scope, reverseFilter) {
            $scope.greeting = 'hello';
            $scope.filteredGreeting = reverseFilter($scope.greeting);
        }]);

        app.filter("reverse", function () {
            return function (inputString, bToUpper) {
                let out = "";
                for (var i = 0; i < inputString.length; i++) {
                    out = inputString.charAt(i) + out;
                }

                if (bToUpper) {
                    out = out.toUpperCase();
                }
                return out;
            }
        });
    </script>
</body>

</html>